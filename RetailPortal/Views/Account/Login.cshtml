@{
    Layout = "~/Views/Shared/_LoginLayout.cshtml";
}
@* <style>
    .welcome-message {
        text-align: right;
        margin-top: 10px;
        color: #555;
    }

    .card-header {
        background-color: #007bff;
        color: white;
        font-size: 18px;
        font-weight: bold;
    }

    .card-body {
        background-color: #f9f9f9;
    }

    .form-control {
        margin-bottom: 15px;
    }

    .next-button {
        margin-right: 10px;
    }
</style> *@

<div class="container mt-5 mb-5 align-items-center">
    <section>
        <div class="container-fluid h-custom">
            <div class="row d-flex justify-content-center align-items-center ">
                <div class="col-md-9 col-lg-6 col-xl-5">
                    <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp"
                         class="img-fluid" alt="Sample image">
                </div>
                <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                    <form asp-action="Login" method="post">
                        <div class="row mb-3">
                            <h2 class="col justify-content-center text-center">Sign-in with</h2>
                        </div>
                        @* <div class="d-flex flex-row align-items-center justify-content-center">
                        <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-floating mx-1">
                        <i class="bi bi-facebook"></i>
                        </button>

                        <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-floating mx-1">
                        <i class="bi bi-twitter"></i>
                        </button>

                        <button type="button" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-floating mx-1">
                        <i class="bi bi-linkedin"></i>
                        </button>
                        </div>

                        <div class="divider d-flex align-items-center my-4">
                        <h2 class="col justify-content-center text-center">Or</h2>
                        </div> *@

                        <!-- Email input -->
                        <div class="form-floating mb-4">
                            <input type="email" id="email" class="form-control form-control-lg  "
                                   placeholder="name@example.com" name="Email" required />
                            <label class="form-label" for="email">Email address</label>
                        </div>

                        <!-- Password input -->
                       @*  <div data-mdb-input-init class="form-floating mb-3">
                            <input type="tel" id="phone" class="form-control form-control-lg"
                                   pattern="971-5[0-9]-\d{7}"
                                   placeholder="971-5X-XXXXXXX" name="Phone" required />
                            <label class="form-label" for="phone">Phone Number</label>
                        </div> *@
                        <div class="form-floating mb-3">
                            <input type="tel" id="phone" class="form-control form-control-lg"
                                   name="Phone"
                                   placeholder="971-5X-XXXXXXX"
                                   maxlength="14"
                                   required />
                            <label class="form-label" for="phone">Phone Number</label>
                        </div>


                        <div class="form-floating mb-3">
                            <input type="text" class="form-control form-control-lg" id="policyStartDate" name="PlanStartDate"
                                   value="@(ViewBag.DefDate != null ? ((DateTime)ViewBag.DefDate).ToString("dd-MMM-yyyy") : "")"
                                   placeholder="dd-MMM-yyyy" required />
                            <label class="form-label" for="policyStartDate">Policy Start Date</label>
                        </div>

                        <div class="text-end justify-content-end mt-4 pt-2">
                            <button type="submit" data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-lg justify-content-end"
                                    style="padding-left: 2.5rem; padding-right: 2.5rem;">
                                Start
                            </button>
                            @* <p class="small fw-bold mt-2 pt-1 mb-0">
                            Don't have an account? <a href="#!"
                            class="link-danger">Register</a>
                            </p> *@
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </section>
</div>

<script>
     document.addEventListener("DOMContentLoaded", function () {
        const phoneInput = document.getElementById("phone");
        phoneInput.value = "971-";
        phoneInput.addEventListener("input", function (e) {
            let digits = phoneInput.value.replace(/\D/g, ""); 

            if (digits.startsWith("971")) {
                // Format: 971-5X-XXXXXXX
                let formatted = digits;

                if (digits.length >= 3) {
                    formatted = digits.slice(0, 3); 
                }
                if (digits.length >= 4) {
                    formatted += "-" + digits.slice(3, 5); 
                }
                if (digits.length >= 5) {
                    formatted += "-" + digits.slice(5, 12); 
                }

                phoneInput.value = formatted;
            } else {
                phoneInput.value = digits;
            }
        });
    });
</script>
